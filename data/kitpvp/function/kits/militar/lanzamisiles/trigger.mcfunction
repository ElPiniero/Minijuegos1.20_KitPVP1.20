execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{}]},count:1,id:"minecraft:crossbow"}}] unless entity @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{id:"minecraft:firework_rocket"}]},count:1,id:"minecraft:crossbow"}}] at @s run summon item ~ ~ ~ {Item:{id:"minecraft:barrier",count:1,components:{"minecraft:unbreakable":{}}},Tags:["cartucho-invalido","nuevo"]}
execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{}]},count:1,id:"minecraft:crossbow"}}] unless entity @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{id:"minecraft:firework_rocket"}]},count:1,id:"minecraft:crossbow"}}] at @s run data modify entity @n[type=item,tag=cartucho-invalido,tag=nuevo] Item set from entity @s SelectedItem.components.minecraft:charged_projectiles.[0]
execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{}]},count:1,id:"minecraft:crossbow"}}] unless entity @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{id:"minecraft:firework_rocket"}]},count:1,id:"minecraft:crossbow"}}] at @s if entity @n[type=item,tag=cartucho-invalido,tag=nuevo,nbt={Item:{id:"minecraft:barrier"}}] run kill @n[type=item,tag=cartucho-invalido,tag=nuevo,nbt={Item:{id:"minecraft:barrier"}}]
execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{}]},count:1,id:"minecraft:crossbow"}}] unless entity @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{id:"minecraft:firework_rocket"}]},count:1,id:"minecraft:crossbow"}}] at @s run tag @n[type=item,tag=cartucho-invalido,tag=nuevo] remove nuevo

execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{}]},count:1,id:"minecraft:crossbow"}}] unless entity @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}',"minecraft:charged_projectiles":[{id:"minecraft:firework_rocket"}]},count:1,id:"minecraft:crossbow"}}] at @s run item replace entity @s weapon.mainhand with crossbow[unbreakable={},custom_name='{"color":"gold","italic":false,"text":"Lanzamisiles"}']
execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"gold","italic":false,"text":"Lanzamisiles"}'},count:1,id:"minecraft:crossbow"}}] if score @s Crossbow matches 1.. at @s run function kitpvp:kits/militar/lanzamisiles/disparo