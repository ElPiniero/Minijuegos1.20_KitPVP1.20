execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"dark_purple","italic":false,"text":"Escopeta"}',"minecraft:charged_projectiles":[{}]},count:1,id:"minecraft:crossbow"}},tag=!E-Recargar] if score @s Escopeta-cooldown matches 1.. unless entity @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"dark_purple","italic":false,"text":"Escopeta"}',"minecraft:charged_projectiles":[{components:{"minecraft:custom_name":'{"color":"white","italic":false,"text":"Cartucho de Escopeta"}'},count:1,id:"minecraft:spectral_arrow"}]},count:1,id:"minecraft:crossbow"}}] run function kitpvp:kits/militar/escopeta/filtrando-score
execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"dark_purple","italic":false,"text":"Escopeta"}',"minecraft:charged_projectiles":[{}]},count:1,id:"minecraft:crossbow"}},tag=E-Recargar] unless entity @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"dark_purple","italic":false,"text":"Escopeta"}',"minecraft:charged_projectiles":[{components:{"minecraft:custom_name":'{"color":"white","italic":false,"text":"Cartucho de Escopeta"}'},count:1,id:"minecraft:spectral_arrow"}]},count:1,id:"minecraft:crossbow"}}] run function kitpvp:kits/militar/escopeta/filtrando-tag

execute if score @s militar-descargar matches 1.. run function kitpvp:kits/militar/escopeta/soltar_cartucho

execute if score @s Crossbow matches 1.. run function kitpvp:kits/militar/escopeta/disparo
execute unless score @s Escopeta-cooldown matches 1.. unless score @s Disparo-Escopeta matches ..0 unless entity @s[tag=E-Recargar] unless entity @s[nbt=!{SelectedItem:{components:{"minecraft:custom_name":'{"color":"dark_purple","italic":false,"text":"Escopeta"}'},count:1,id:"minecraft:crossbow"}}] run item replace entity @s weapon.mainhand with crossbow[unbreakable={},custom_name='{"text":"Escopeta","italic":false,"color":"dark_purple"}',charged_projectiles=[{id:"minecraft:arrow",count:1}]]
execute if score @s Disparo-Escopeta matches ..0 unless entity @s[tag=E-Recargar] run function kitpvp:kits/militar/escopeta/carga-agotada

execute if score @s Escopeta-cooldown matches 1.. run function kitpvp:kits/militar/escopeta/cooldown
execute unless score @s Escopeta-cooldown matches 1.. run function kitpvp:kits/militar/escopeta/municion

execute as @s[nbt={SelectedItem:{components:{"minecraft:custom_name":'{"color":"dark_purple","italic":false,"text":"Escopeta"}',"minecraft:charged_projectiles":[{components:{"minecraft:custom_name":'{"color":"white","italic":false,"text":"Cartucho de Escopeta"}'},count:1,id:"minecraft:spectral_arrow"}]},count:1,id:"minecraft:crossbow"}}] run function kitpvp:kits/militar/escopeta/recargas
execute if score @s Disparo-Escopeta matches ..0 unless score @s Escopeta-cooldown matches 1.. run function kitpvp:kits/militar/arma-descargada